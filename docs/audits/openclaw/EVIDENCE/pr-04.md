# Evidence: PR4 â€” TRADE_BLOCKED reason codes

**Status:** Implemented.

## Goal

Every TRADE_BLOCKED emission includes stable reason codes (ReasonCode); can_place_real_order and _check_risk_limits return consistent codes; Telegram and logs use them.

## Commands

From repo root:

```bash
cd "$(git rev-parse --show-toplevel)"

python3 -m pytest backend/tests/test_trade_blocked_reason_codes.py -v --tb=short
```

## Evidence capture

```bash
cd "$(git rev-parse --show-toplevel)"
mkdir -p docs/audits/openclaw/EVIDENCE/logs
python3 -m pytest backend/tests/test_trade_blocked_reason_codes.py -v --tb=short 2>&1 | tee docs/audits/openclaw/EVIDENCE/logs/pr-04_$(date +%Y%m%d_%H%M%S).txt
```

## Expected outcome

- All tests in test_trade_blocked_reason_codes.py pass (e.g. LIVE_TRADING_OFF, KILL_SWITCH, TRADE_DISABLED, MAX_OPEN_ORDERS, RECENT_ORDERS_COOLDOWN, STALE_DATA defined and used).

## Rollback check

If reason codes are removed or gate names change, these tests will fail.
