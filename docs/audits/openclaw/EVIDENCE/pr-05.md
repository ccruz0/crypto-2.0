# Evidence: PR5 â€” 30-min stale data gate (BUY path)

**Status:** Implemented.

## Goal

Before creating a BUY order, require_fresh() blocks when market data is older than 30 min or missing; TRADE_BLOCKED with STALE_DATA is emitted and Telegram sent.

## Commands

From repo root:

```bash
cd "$(git rev-parse --show-toplevel)"

python3 -m pytest backend/tests/test_stale_data_gate.py -v --tb=short
```

## Evidence capture

```bash
cd "$(git rev-parse --show-toplevel)"
mkdir -p docs/audits/openclaw/EVIDENCE/logs
python3 -m pytest backend/tests/test_stale_data_gate.py -v --tb=short 2>&1 | tee docs/audits/openclaw/EVIDENCE/logs/pr-05_$(date +%Y%m%d_%H%M%S).txt
```

## Expected outcome

- All tests in test_stale_data_gate.py pass (compute_age, stale_if_missing_or_older_than, require_fresh, Telegram payload includes reason code and details).

## Rollback check

If the BUY stale gate or require_fresh usage is removed, test_stale_data_gate and/or contract test INV-2 BUY will fail.
